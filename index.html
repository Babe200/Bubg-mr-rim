<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Ø·Ù„Ø¨ Ø´Ø­Ù† Ø¨Ø¨Ø¬ÙŠ</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap" rel="stylesheet">
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background-color: #f4f4f4;
      padding: 20px;
      direction: rtl;
      color: #333;
    }
    .form-box {
      max-width: 500px;
      margin: auto;
      background: white;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    h2 {
      text-align: center;
      color: #2c3e50;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      margin-top: 6px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 16px;
    }
    button {
      margin-top: 25px;
      width: 100%;
      padding: 14px;
      background-color: #27ae60;
      color: white;
      border: none;
      border-radius: 8px;
      font-size: 18px;
      cursor: pointer;
    }
    button:hover {
      background-color: #219150;
    }
    .info-box {
      background: #fff8dc;
      padding: 12px;
      margin-top: 20px;
      border-radius: 6px;
      border: 1px solid #e0c97f;
    }
    .link-button {
      margin-top: 20px;
      text-align: center;
    }
    .link-button a {
      color: #2980b9;
      text-decoration: none;
      font-weight: bold;
    }
    .error {
      color: red;
      margin-top: 10px;
      font-size: 14px;
    }
    .success {
      color: green;
      margin-top: 15px;
      text-align: center;
    }
    #installApp {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background-color: #34495e;
      color: white;
      border: none;
      padding: 12px 20px;
      font-size: 16px;
      border-radius: 8px;
      cursor: pointer;
      z-index: 1000;
    }
  </style>
</head>
<body>
  <div class="form-box">
    <h2>Ø·Ù„Ø¨ Ø´Ø­Ù† Ø´Ø¯Ø§Øª Ø¨Ø¨Ø¬ÙŠ</h2>
    <form id="orderForm" action="https://script.google.com/macros/s/AKfycbwmCyFUVWdONBpQ_EqHoUBY7EiiTDOU_W2AkS_8UatTvtKTOudSNIjKh-FRM-F902lGEQ/exec" method="POST">
      <label for="player_id">Ù…Ø¹Ø±Ù‘Ù Ø§Ù„Ù„Ø§Ø¹Ø¨ (ID):</label>
      <input type="text" id="player_id" name="player_id" required />

      <label for="uc_amount">Ø¹Ø¯Ø¯ Ø§Ù„Ø´Ø¯Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø©:</label>
      <select id="uc_amount" name="uc_amount" required>
        <option value="60">60 Ø´Ø¯Ø© - 50 Ø£ÙˆÙ‚ÙŠØ©</option>
        <option value="325">325 Ø´Ø¯Ø© - 220 Ø£ÙˆÙ‚ÙŠØ©</option>
        <option value="660">660 Ø´Ø¯Ø© - 450 Ø£ÙˆÙ‚ÙŠØ©</option>
        <option value="1800">1800 Ø´Ø¯Ø© - 1120 Ø£ÙˆÙ‚ÙŠØ©</option>
      </select>

      <label for="whatsapp">Ø±Ù‚Ù… ÙˆØ§ØªØ³Ø§Ø¨ Ù„Ù„ØªÙˆØ§ØµÙ„:</label>
      <input type="text" id="whatsapp" name="whatsapp" required />

      <label for="transaction_number">Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø£Ùˆ Ø§Ù„Ù…Ø±Ø¬Ø¹:</label>
      <input type="text" id="transaction_number" name="transaction_number" required />

      <label for="bank_name">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù†Ùƒ:</label>
      <select id="bank_name" name="bank_name" required>
        <option value="Ø§Ù„Ø³Ø¯Ø§Ø¯ - Sedad">Ø§Ù„Ø³Ø¯Ø§Ø¯ - Sedad</option>
        <option value="Ù…ØµØ±ÙÙŠ - Masrvi">Ù…ØµØ±ÙÙŠ - Masrvi</option>
        <option value="Ø¨ÙŠÙ… Ø¨Ù†Ùƒ - Bimbank">Ø¨ÙŠÙ… Ø¨Ù†Ùƒ - Bimbank</option>
        <option value="Ø±ØµÙŠØ¯ÙŠ - Rassidy">Ø±ØµÙŠØ¯ÙŠ - Rassidy</option>
      </select>

      <div class="info-box">
        <strong>ÙŠØ±Ø¬Ù‰ Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù…Ø¨Ù„Øº Ø¥Ù„Ù‰:</strong><br>
        Ø§Ù„Ø±Ù‚Ù…: <strong>22227374659</strong><br>
        Ù…ØªØ§Ø­ Ø¹Ø¨Ø± Ø§Ù„Ø¨Ù†ÙˆÙƒ Ø§Ù„Ù…Ø°ÙƒÙˆØ±Ø© Ø£Ø¹Ù„Ø§Ù‡.
      </div>

      <div id="orderMessage" class="error"></div>
      <div id="orderSuccess" class="success"></div>
      <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨</button>
    </form>

    <div class="link-button">
      <a href="#" onclick="document.getElementById('orderForm').style.display='none';document.getElementById('supportForm').style.display='block'; return false;">Ù„Ù… ÙŠØµÙ„Ùƒ Ø§Ù„Ø´Ø­Ù†ØŸ</a>
    </div>
  </div>

  <div class="form-box" id="supportForm" style="display:none">
    <h2>Ø¨Ù„Ø§Øº: Ù„Ù… ÙŠØµÙ„Ù†ÙŠ Ø§Ù„Ø´Ø­Ù†</h2>
    <form action="https://script.google.com/macros/s/AKfycbwmCyFUVWdONBpQ_EqHoUBY7EiiTDOU_W2AkS_8UatTvtKTOudSNIjKh-FRM-F902lGEQ/exec" method="POST">
      <label for="phone">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠ Ø§Ù„Ø¯ÙØ¹:</label>
      <input type="text" id="phone" name="phone" required />

      <label for="transaction_number">Ø±Ù‚Ù… Ø§Ù„Ù…Ø¹Ø§Ù…Ù„Ø© Ø£Ùˆ Ø§Ù„Ù…Ø±Ø¬Ø¹:</label>
      <input type="text" id="transaction_number" name="transaction_number" required />

      <label for="proof_link">Ø±Ø§Ø¨Ø· Ø¥Ø«Ø¨Ø§Øª Ø§Ù„Ø¯ÙØ¹ (Google Drive):</label>
      <input type="url" id="proof_link" name="proof_link" required />

      <label for="payment_date">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¯ÙØ¹:</label>
      <input type="date" id="payment_date" name="payment_date" required />

      <label for="payment_time">ÙˆÙ‚Øª Ø§Ù„Ø¯ÙØ¹:</label>
      <input type="time" id="payment_time" name="payment_time" required />

      <label for="bank_name">Ø§Ø®ØªØ± Ø§Ù„Ø¨Ù†Ùƒ:</label>
      <select id="bank_name" name="bank_name" required>
        <option value="Ø§Ù„Ø³Ø¯Ø§Ø¯ - Sedad">Ø§Ù„Ø³Ø¯Ø§Ø¯ - Sedad</option>
        <option value="Ù…ØµØ±ÙÙŠ - Masrvi">Ù…ØµØ±ÙÙŠ - Masrvi</option>
        <option value="Ø¨ÙŠÙ… Ø¨Ù†Ùƒ - Bimbank">Ø¨ÙŠÙ… Ø¨Ù†Ùƒ - Bimbank</option>
        <option value="Ø±ØµÙŠØ¯ÙŠ - Rassidy">Ø±ØµÙŠØ¯ÙŠ - Rassidy</option>
      </select>

      <label for="account_number">Ø±Ù‚Ù… Ø§Ù„Ø­Ø³Ø§Ø¨ Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ Ø§Ù„Ø°ÙŠ ØªÙ… Ø§Ù„Ø¯ÙØ¹ Ø¹Ù„ÙŠÙ‡:</label>
      <input type="text" id="account_number" name="account_number" required />

      <button type="submit">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ù„Ø§Øº</button>
    </form>
  </div>

  <button id="installApp" style="display: none">ğŸ“² ØªØ«Ø¨ÙŠØª Ø§Ù„ØªØ·Ø¨ÙŠÙ‚</button>

  <script>
    let deferredPrompt;
    const installBtn = document.getElementById('installApp');

    window.addEventListener('beforeinstallprompt', (e) => {
      e.preventDefault();
      deferredPrompt = e;
      installBtn.style.display = 'block';
    });

    installBtn.addEventListener('click', () => {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        deferredPrompt.userChoice.then(choiceResult => {
          if (choiceResult.outcome === 'accepted') {
            installBtn.style.display = 'none';
          }
          deferredPrompt = null;
        });
      }
    });

    function isValidPlayerID(id) {
      return /^\d{8,13}$/.test(id);
    }

    function isValidPhone(phone) {
      return /^222\d{8}$/.test(phone);
    }

    document.getElementById('orderForm').addEventListener('submit', function(e) {
      const playerID = document.getElementById('player_id').value;
      const phone = document.getElementById('whatsapp').value;
      const messageDiv = document.getElementById('orderMessage');
      messageDiv.innerText = '';

      if (!isValidPlayerID(playerID)) {
        e.preventDefault();
        messageDiv.innerText = 'âš ï¸ ÙŠØ±Ø¬Ù‰ Ø¥Ø¯Ø®Ø§Ù„ Ù…Ø¹Ø±Ù Ù„Ø§Ø¹Ø¨ ØµØ­ÙŠØ­ (8 Ø¥Ù„Ù‰ 13 Ø±Ù‚Ù…).';
        return;
      }
      if (!isValidPhone(phone)) {
        e.preventDefault();
        messageDiv.innerText = 'âš ï¸ Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ ØºÙŠØ± ØµØ­ÙŠØ­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ¨Ø¯Ø£ Ø¨Ù€ 222 ÙˆÙŠÙ„ÙŠÙ‡ 6 Ø£Ùˆ 7 Ø£Ø±Ù‚Ø§Ù….';
        return;
      }

      document.getElementById('orderSuccess').innerText = 'âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¨Ù†Ø¬Ø§Ø­. Ø´ÙƒØ±Ø§Ù‹ Ù„Ùƒ!';
    });
  </script>
</body>
  </html>
